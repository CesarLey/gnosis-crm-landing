<!-- Pricing Page Header -->
<header class="pricing-header" style="padding-top: 120px; padding-bottom: 40px; text-align: center;">
    <div class="container">
        <h1>Elije el plan perfecto para tu negocio</h1>
        <p style="color: var(--light-text); margin-top: 10px;">Sin contratos forzosos. Cancela cuando quieras.</p>
    </div>
</header>

<!-- Pricing Section -->
<section id="pricing" class="pricing">
    <div class="container">
        <div class="section-header center-text">
            <h2>La solución más completa, <span class="highlight">al mejor precio</span></h2>
            <div class="pricing-badges">
                <span class="badgex"><i class="fa-solid fa-check"></i> Prueba gratis por 14 días</span>
                <span class="badgex"><i class="fa-solid fa-check"></i> Los precios tienen IVA incluido</span>
                <span class="badgex"><i class="fa-solid fa-check"></i> Soporte Incluido</span>
            </div>
        </div>

        <!-- Billing Toggle -->
        <div class="billing-toggle">
            <span>Pago Mensual</span>
            <div class="toggle-switch">
                <input type="checkbox" id="billingSwitch" [checked]="isAnnual()" (change)="toggleBilling($event)">
                <label for="billingSwitch"></label>
            </div>
            <span>Pago Anual <span class="discount-tag">-25%</span></span>
        </div>

        <div class="pricing-grid">
            <!-- Plan Free -->
            <div class="pricing-card">
                <div class="card-header">
                    <h3>Plan Free</h3>
                    <div class="tags">
                        <!-- <span class="tag-blue">Para empezar</span> -->
                    </div>
                    <div class="price-main">
                        <span class="currency">$</span>0 <span class="period">MXN / mes</span>
                    </div>
                    <p class="price-subtitle">Para empezar.</p>
                </div>
                <a routerLink="/register" class="btn-primary full-width">Probar Gratis</a>
                <ul class="features-list">
                    <li><i class="fa-solid fa-circle-check"></i> 1 Usuario</li>
                    <li><i class="fa-solid fa-circle-check"></i> 50 Clientes</li>
                    <li><i class="fa-solid fa-circle-check"></i> Agenda básica y CRM esencial</li>
                    <li><i class="fa-solid fa-circle-check"></i> Ideal para validar tu idea</li>
                </ul>
            </div>

            <!-- Plan Básico -->
            <div class="pricing-card dynamic-price-card">
                <div class="card-header">
                    <h3>Plan Básico</h3>
                    <div class="price">
                        <span class="old-price" *ngIf="isAnnual()">$4,788</span>
                        <span class="discount-badge" *ngIf="isAnnual()">-25%</span>
                    </div>
                    <div class="price-main">
                        <span class="currency">$</span>{{ isAnnual() ? '3,588' : '399' }} <span class="period">MXN /
                            {{ isAnnual() ? 'año' : 'mes' }}</span>
                    </div>
                    <p class="price-subtitle">{{ isAnnual() ? 'Incluye 25% de descuento' : 'Pago mensual
                        recurrente' }}</p>
                </div>
                <a [routerLink]="['/checkout']"
                    [queryParams]="{ plan: 'basic', billing: isAnnual() ? 'anual' : 'mensual' }"
                    class="btn-primary full-width">Comprar Ahora</a>
                <ul class="features-list">
                    <li><i class="fa-solid fa-circle-check"></i> 5 Usuarios</li>
                    <li><i class="fa-solid fa-circle-check"></i> 1000 Clientes</li>
                    <li><i class="fa-solid fa-circle-check"></i> Reportes de Ventas (Funnel y Pérdidas)</li>
                    <li><i class="fa-solid fa-circle-check"></i> Gestión de Pedidos e Inventario</li>
                    <li><i class="fa-solid fa-circle-check"></i> Plantillas de Respuesta Rápida</li>
                </ul>
            </div>

            <!-- Plan Pro (Recomendado) -->
            <div class="pricing-card popular dynamic-price-card">
                <div class="popular-tag">¡Recomendado!</div>
                <div class="card-header">
                    <h3>Plan Pro</h3>
                    <div class="price">
                        <span class="old-price" *ngIf="isAnnual()">$11,988</span>
                        <span class="discount-badge" *ngIf="isAnnual()">-25%</span>
                    </div>
                    <div class="price-main">
                        <span class="currency">$</span>{{ isAnnual() ? '8,988' : '999' }} <span class="period">MXN /
                            {{ isAnnual() ? 'año' : 'mes' }}</span>
                    </div>
                    <p class="price-subtitle">{{ isAnnual() ? 'Incluye 25% de descuento' : 'Pago mensual
                        recurrente' }}</p>
                </div>
                <a [routerLink]="['/checkout']"
                    [queryParams]="{ plan: 'pro', billing: isAnnual() ? 'anual' : 'mensual' }"
                    class="btn-primary full-width">Comprar Ahora</a>
                <ul class="features-list">
                    <li><i class="fa-solid fa-circle-check"></i> Usuarios Ilimitados</li>
                    <li><i class="fa-solid fa-circle-check"></i> Conexión API Meta (WhatsApp/FB/IG)</li>
                    <li><i class="fa-solid fa-circle-check"></i> Workflows de Automatización</li>
                    <li><i class="fa-solid fa-circle-check"></i> Campañas Masivas</li>
                    <li><i class="fa-solid fa-circle-check"></i> Tracking de Clientes (Pixel)</li>
                </ul>
            </div>

            <!-- Plan Enterprise -->
            <div class="pricing-card dynamic-price-card">
                <div class="card-header">
                    <h3>Plan Enterprise</h3>
                    <!-- <div class="price">
                         No discount badge needed for custom pricing usually, or keep structure hidden
                    </div> -->
                    <div class="price-main" style="margin-top: 2rem;">
                        <span class="currency"></span>A medida<span class="period"></span>
                    </div>
                    <p class="price-subtitle">Contáctanos para una solución personalizada</p>
                </div>
                <a routerLink="/contact" class="btn-primary full-width">Contactar Ventas</a>
                <ul class="features-list">
                    <li><i class="fa-solid fa-circle-check"></i> Todo lo del Plan Pro</li>
                    <li><i class="fa-solid fa-circle-check"></i> Servidor e Instancia Dedicada</li>
                    <li><i class="fa-solid fa-circle-check"></i> Soporte 24/7 Prioritario</li>
                    <li><i class="fa-solid fa-circle-check"></i> Integraciones personalizadas</li>
                    <li><i class="fa-solid fa-circle-check"></i> SLA Garantizado</li>
                </ul>
            </div>
        </div>
    </div>
</section>